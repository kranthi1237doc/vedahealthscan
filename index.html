<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>VEDA Health Scanner</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="app-container">
        <header>
            <h1>VEDA Health Scanner</h1>
            <p>AI-powered facial health screening for VEDA Hospital</p>
        </header>
        <section id="patientFormSection">
            <form id="patientForm">
                <label>Full Name: <input type="text" id="patientName" name="patientName" required /></label><br />
                <label>Age: <input type="number" id="patientAge" name="patientAge" min="18" max="100" required /></label><br />
                <label>Height (cm): <input type="number" id="patientHeight" name="patientHeight" min="100" max="250" required /></label><br />
                <label>Weight (kg): <input type="number" id="patientWeight" name="patientWeight" min="30" max="200" required /></label><br />
                <label>Random Blood Sugar (mg/dL): <input type="number" id="bloodSugar" name="bloodSugar" min="70" max="400" /></label><br />
                <label>Gender:
                    <select id="patientGender" name="patientGender">
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="other">Other</option>
                    </select>
                </label><br />
                <label>Contact Number: <input type="tel" id="patientContact" name="patientContact" /></label><br />
                <div id="bmiDisplay" style="display:none;">
                    BMI: <span id="bmiValue"></span> Category: <span id="bmiCategory"></span>
                </div>
                <button type="button" class="btn-primary" onclick="proceedToScan()">Continue to Health Scan</button>
            </form>
        </section>
        <section id="scanningSection" style="display:none;">
            <video id="videoElement" width="320" height="240" autoplay muted></video>
            <canvas id="overlayCanvas" width="320" height="240"></canvas>
            <button id="startCameraBtn" type="button">Start Camera</button>
            <button id="stopCameraBtn" type="button" style="display:none;">Stop Camera</button>
            <button id="beginScanBtn" type="button" style="display:none;">Begin Health Analysis</button>
            <div id="scanStatus">Camera not started.</div>
            <div id="scanOverlay" style="display:none;"></div>
        </section>
        <section id="resultsSection" style="display:none;">
            <div>Health Score: <span id="overallScore"></span> <span id="scoreStatus"></span></div>
            <div>Cardiac Risk: <span id="cardiacRiskScore"></span> Points: <span id="riskPoints"></span></div>
            <div id="riskBreakdown"></div>
            <div id="metricsGrid"></div>
            <div id="recommendationsList"></div>
            <button type="button" onclick="generatePDFReport()">Generate PDF Report</button>
            <button type="button" onclick="startNewScan()">Start New Analysis</button>
            <button type="button" onclick="contactVEDA()">Contact VEDA Hospital</button>
        </section>
    </div>
    <script src="app.js"></script>
</body>
</html>
